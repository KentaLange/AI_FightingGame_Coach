{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/kl/dev/AI_Coach/AI_FightingGame_Coach/App/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from \"react\";\n\nexport default function App() {\n  const [input, setInput] = useState(\"\");\n  const [messages, setMessages] = useState<Array<{ text: string; isUser: boolean }>>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Define the API URL\n  const LANGFLOW_URL = \"http://127.0.0.1:7860/api/v1/run/3c79f16f-713f-465f-bdf4-ed80f46e0f30\";\n\n  // Test the API connection on component mount\n  useEffect(() => {\n    const testConnection = async () => {\n      const testPayload = {\n        input_value: \"test\",\n        output_type: \"chat\",\n        input_type: \"chat\",\n        session_id: \"user_1\"\n      };\n\n      try {\n        console.log('Testing API with payload:', testPayload);\n        const response = await fetch(LANGFLOW_URL, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(testPayload)\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        console.log('Test response received:', data);\n      } catch (error) {\n        console.error('API test failed:', error);\n      }\n    };\n\n    testConnection();\n  }, []);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n\n    // Add user message to chat\n    setMessages(prev => [...prev, { text: input, isUser: true }]);\n    setIsLoading(true);\n\n    const payload = {\n      input_value: input,\n      output_type: \"chat\",\n      input_type: \"chat\",\n      session_id: \"user_1\"\n    };\n\n    try {\n      console.log('Sending payload:', JSON.stringify(payload, null, 2));\n      \n      const response = await fetch(LANGFLOW_URL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Response not OK:', {\n          status: response.status,\n          statusText: response.statusText,\n          body: errorText\n        });\n        throw new Error(`HTTP error! status: ${response.status}, body: ${errorText}`);\n      }\n\n      const rawResponse = await response.text();\n      console.log('Raw response text:', rawResponse);\n\n      let data;\n      try {\n        data = JSON.parse(rawResponse);\n        console.log('Parsed response:', data);\n      } catch (parseError) {\n        console.error('JSON parse error:', parseError);\n        console.log('Raw response that failed to parse:', rawResponse);\n        throw new Error('Failed to parse response as JSON');\n      }\n\n      // Handle the response based on its structure\n      let aiMessage: string;\n      if (typeof data === 'string') {\n        aiMessage = data;\n      } else if (data.result) {\n        aiMessage = typeof data.result === 'string' ? data.result : JSON.stringify(data.result);\n      } else if (data.response) {\n        aiMessage = typeof data.response === 'string' ? data.response : JSON.stringify(data.response);\n      } else {\n        console.log('Unexpected response structure:', data);\n        aiMessage = \"Received response but couldn't parse it properly. Check console for details.\";\n      }\n\n      setMessages(prev => [...prev, { text: aiMessage, isUser: false }]);\n    } catch (error) {\n      console.error('Error in API call:', error);\n      setMessages(prev => [...prev, { \n        text: `Error: ${error instanceof Error ? error.message : 'Unknown error occurred'}`, \n        isUser: false \n      }]);\n    } finally {\n      setIsLoading(false);\n      setInput(\"\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen p-4 max-w-3xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-6 text-center\">Ask me anything about Street Fighter 6!</h1>\n      \n      {/* Messages display area */}\n      <div className=\"bg-gray-50 rounded-lg p-4 mb-4 h-[500px] overflow-y-auto\">\n        {messages.map((message, index) => (\n          <div\n            key={index}\n            className={`mb-4 p-3 rounded-lg ${\n              message.isUser\n                ? \"bg-blue-100 ml-auto max-w-[80%]\"\n                : \"bg-gray-200 max-w-[80%]\"\n            }`}\n          >\n            <p className=\"text-black font-medium\">{message.text}</p>\n          </div>\n        ))}\n        {isLoading && (\n          <div className=\"text-center p-2\">\n            <p className=\"text-black font-medium\">Thinking...</p>\n          </div>\n        )}\n      </div>\n\n      {/* Input form */}\n      <form onSubmit={handleSubmit} className=\"flex gap-2\">\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Type your question here...\"\n          className=\"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n          disabled={isLoading}\n        />\n        <button\n          type=\"submit\"\n          disabled={isLoading}\n          className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400\"\n        >\n          Send\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///Users/kl/dev/AI_Coach/AI_FightingGame_Coach/App/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAczC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;YAEP;QACF,OAAO;;QAMP;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/kl/dev/AI_Coach/AI_FightingGame_Coach/App/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///Users/kl/dev/AI_Coach/AI_FightingGame_Coach/App/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}}]
}